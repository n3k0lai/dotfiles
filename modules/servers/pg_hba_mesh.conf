# Postgres HBA rules for mesh agents (Tailscale IPs)
# Local unix socket
local all all peer
# Restricted schemas â€” IP-locked roles
# Finance: Chat (write) + Ene (read)
host svalbard finance_admin 100.114.138.5/32 scram-sha-256
host svalbard finance_reader 100.111.1.42/32 scram-sha-256
# Personal: Chat (write) + Ene (read)
host svalbard personal_admin 100.114.138.5/32 scram-sha-256
host svalbard personal_reader 100.111.1.42/32 scram-sha-256
# Work: Rook only
host svalbard work_admin 100.95.242.40/32 scram-sha-256
# General mesh access
host all mesh 100.64.0.0/10 scram-sha-256
host all mesh_reader 100.64.0.0/10 scram-sha-256
